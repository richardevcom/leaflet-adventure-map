<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <link rel="icon" type="image/svg+xml" href="/leaflet-adventure-map/vite.svg" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Adventure Destinations | TribeTravel.eu</title>
    
    <!-- Leaflet CSS -->
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" />
    <script type="module" crossorigin src="/leaflet-adventure-map/assets/index.js"></script>
    <link rel="stylesheet" crossorigin href="/leaflet-adventure-map/assets/index.css">
  </head>
  <body>
    <!-- Map Container (Fullscreen Background) -->
    <div class="map-wrapper">
      <div id="map"></div>
    </div>

    <!-- Search Bar (Floating) -->
    <div class="search-container">
      <div class="search-input-group">
        <svg class="search-icon" width="18" height="18" viewBox="0 0 20 20" fill="none">
          <path d="M9 17A8 8 0 1 0 9 1a8 8 0 0 0 0 16zM18 18l-4.35-4.35" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
        </svg>
        <input 
          type="text" 
          class="search-input" 
          placeholder="Search by destination, activity, price..."
          id="searchInput"
          autocomplete="off"
        />
        <button class="search-clear" id="searchClear" aria-label="Clear search">
          <svg width="14" height="14" viewBox="0 0 16 16" fill="none" stroke="currentColor">
            <path d="M12 4L4 12M4 4l8 8" stroke-width="2" stroke-linecap="round"/>
          </svg>
        </button>
      </div>
      <div class="search-dropdown" id="searchDropdown"></div>
    </div>

    <!-- Main Layout -->
    <div class="main-layout">
      <!-- Left Sidebar Filters -->
      <aside class="sidebar" id="sidebar">
        <!-- Mobile Controls -->
        <div class="mobile-controls">
          <button class="mobile-btn active" id="mobileFilterBtn">
            <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor">
              <line x1="4" y1="6" x2="20" y2="6" stroke-width="2"/>
              <line x1="4" y1="12" x2="20" y2="12" stroke-width="2"/>
              <line x1="4" y1="18" x2="20" y2="18" stroke-width="2"/>
            </svg>
            <span>Filters</span>
          </button>
          <div class="search-container">
            <div class="search-input-group">
              <svg class="search-icon" width="18" height="18" viewBox="0 0 20 20" fill="none">
                <path d="M9 17A8 8 0 1 0 9 1a8 8 0 0 0 0 16zM18 18l-4.35-4.35" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
              </svg>
              <input 
                type="text" 
                class="search-input" 
                placeholder="Search..."
                id="mobileSearchInput"
                autocomplete="off"
              />
              <button class="search-clear" id="mobileSearchClear" aria-label="Clear search">
                <svg width="14" height="14" viewBox="0 0 16 16" fill="none" stroke="currentColor">
                  <path d="M12 4L4 12M4 4l8 8" stroke-width="2" stroke-linecap="round"/>
                </svg>
              </button>
            </div>
            <div class="search-dropdown" id="mobileSearchDropdown"></div>
          </div>
        </div>

        <!-- Filter Header -->
        <div class="filter-box header">
          <div class="filter-header">
            <h2>Filters</h2>
            <div class="filter-header-actions">
              <button class="btn-text" id="clearAll">Clear all</button>
              <button class="mobile-close-btn" id="mobileCloseBtn">
                <svg width="18" height="18" viewBox="0 0 16 16" fill="none" stroke="currentColor">
                  <path d="M12 4L4 12M4 4l8 8" stroke-width="2" stroke-linecap="round"/>
                </svg>
              </button>
            </div>
          </div>
        </div>

        <!-- Destinations -->
        <div class="filter-box">
          <button class="filter-toggle" data-filter="destinations">
            <span class="filter-label">Destinations</span>
            <svg class="chevron" width="14" height="14" viewBox="0 0 16 16" fill="currentColor">
              <path d="M4.646 6.646a.5.5 0 0 1 .708 0L8 9.293l2.646-2.647a.5.5 0 0 1 .708.708l-3 3a.5.5 0 0 1-.708 0l-3-3a.5.5 0 0 1 0-.708z"/>
            </svg>
          </button>
          <div class="filter-content expanded" data-content="destinations" id="destinationsContent"></div>
        </div>

        <!-- Duration -->
        <div class="filter-box">
          <button class="filter-toggle" data-filter="duration">
            <span class="filter-label">Duration</span>
            <svg class="chevron" width="14" height="14" viewBox="0 0 16 16" fill="currentColor">
              <path d="M4.646 6.646a.5.5 0 0 1 .708 0L8 9.293l2.646-2.647a.5.5 0 0 1 .708.708l-3 3a.5.5 0 0 1-.708 0l-3-3a.5.5 0 0 1 0-.708z"/>
            </svg>
          </button>
          <div class="filter-content" data-content="duration" id="durationContent"></div>
        </div>

        <!-- Difficulty -->
        <div class="filter-box">
          <button class="filter-toggle" data-filter="difficulty">
            <span class="filter-label">Difficulty</span>
            <svg class="chevron" width="14" height="14" viewBox="0 0 16 16" fill="currentColor">
              <path d="M4.646 6.646a.5.5 0 0 1 .708 0L8 9.293l2.646-2.647a.5.5 0 0 1 .708.708l-3 3a.5.5 0 0 1-.708 0l-3-3a.5.5 0 0 1 0-.708z"/>
            </svg>
          </button>
          <div class="filter-content" data-content="difficulty" id="difficultyContent"></div>
        </div>

        <!-- Activity Type -->
        <div class="filter-box">
          <button class="filter-toggle" data-filter="typology">
            <span class="filter-label">Activity Type</span>
            <svg class="chevron" width="14" height="14" viewBox="0 0 16 16" fill="currentColor">
              <path d="M4.646 6.646a.5.5 0 0 1 .708 0L8 9.293l2.646-2.647a.5.5 0 0 1 .708.708l-3 3a.5.5 0 0 1-.708 0l-3-3a.5.5 0 0 1 0-.708z"/>
            </svg>
          </button>
          <div class="filter-content" data-content="typology" id="typologyContent"></div>
        </div>

        <!-- Price Range -->
        <div class="filter-box">
          <button class="filter-toggle" data-filter="price">
            <span class="filter-label">Price Range</span>
            <svg class="chevron" width="14" height="14" viewBox="0 0 16 16" fill="currentColor">
              <path d="M4.646 6.646a.5.5 0 0 1 .708 0L8 9.293l2.646-2.647a.5.5 0 0 1 .708.708l-3 3a.5.5 0 0 1-.708 0l-3-3a.5.5 0 0 1 0-.708z"/>
            </svg>
          </button>
          <div class="filter-content" data-content="price">
            <div class="price-range">
              <div class="price-labels">
                <span id="priceMin">€1,350</span>
                <span id="priceMax">€3,450</span>
              </div>
              <div class="price-sliders">
                <input type="range" id="priceRangeMin" min="1350" max="3450" value="1350" step="50" />
                <input type="range" id="priceRangeMax" min="1350" max="3450" value="3450" step="50" />
              </div>
            </div>
          </div>
        </div>
      </aside>

      <!-- Scroll Indicator -->
      <div class="scroll-indicator" id="scrollIndicator">
        <svg width="20" height="20" viewBox="0 0 20 20" fill="currentColor">
          <path d="M5.646 6.646a.5.5 0 0 1 .708 0L10 10.293l3.646-3.647a.5.5 0 0 1 .708.708l-4 4a.5.5 0 0 1-.708 0l-4-4a.5.5 0 0 1 0-.708z"/>
        </svg>
      </div>
    </div>

    <!-- Results Panel -->
    <div class="results-panel collapsed" id="resultsPanel">
      <div class="results-header" id="resultsHeader">
        <h3 class="results-title">
          <span id="resultsCount">24</span> adventures found
        </h3>
        <button class="results-expand" id="resultsExpand" aria-label="Expand results">
          <svg class="expand-icon" width="20" height="20" viewBox="0 0 20 20" fill="currentColor">
            <path d="M5.646 13.646a.5.5 0 0 0 .708 0L10 10l3.646 3.646a.5.5 0 0 0 .708-.708l-4-4a.5.5 0 0 0-.708 0l-4 4a.5.5 0 0 0 0 .708z"/>
          </svg>
        </button>
      </div>

      <div class="results-content" id="resultsContent">
        <div class="results-grid" id="resultsGrid">
          <!-- Adventure cards populated by JS -->
        </div>
      </div>
    </div>

  </body>
</html>
